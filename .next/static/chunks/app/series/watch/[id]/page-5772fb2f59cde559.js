(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[422],{5776:function(e,t,s){Promise.resolve().then(s.bind(s,8536))},2468:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,s(8030).Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},2421:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,s(8030).Z)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},3274:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,s(8030).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},2675:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,s(8030).Z)("Tv",[["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",ry:"2",key:"10ag99"}],["polyline",{points:"17 2 12 7 7 2",key:"11pgbg"}]])},6463:function(e,t,s){"use strict";var n=s(1169);s.o(n,"useParams")&&s.d(t,{useParams:function(){return n.useParams}}),s.o(n,"useSearchParams")&&s.d(t,{useSearchParams:function(){return n.useSearchParams}})},8536:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return y}});var n=s(7437),a=s(2265),l=s(6463),i=s(7138),r=s(1513),o=s(4446),c=s(6780),d=s(5137),x=s(2675),m=s(7164),u=s(9338),h=s(4241),p=s(4436),f=s(6717),b=s(2421),g=s(2468),j=s(8094),N=s(6225);function y(){var e,t,s,y;let F=(0,l.useParams)().id,[v,w]=(0,a.useState)(null),[C,k]=(0,a.useState)(1),[A,E]=(0,a.useState)(null),[S,Z]=(0,a.useState)(!0),[B,P]=(0,a.useState)(null),[D,L]=(0,a.useState)(!1),[M,I]=(0,a.useState)(!1);(0,a.useEffect)(()=>{I(!0)},[]),(0,a.useEffect)(()=>{let e=async()=>{try{let e=await fetch("/api/content/".concat(F)),t=await e.json();if(!t.success){P(t.message||"Failed to fetch series");return}if("series"!==t.data.type){P("This content is not a series");return}if(w(t.data),t.data.seasons&&t.data.seasons.length>0){let e=t.data.seasons[0];k(e.seasonNumber);let s=e.episodes.find(e=>e.embedIframeLink);E(s||e.episodes[0]||null)}}catch(e){P("An error occurred while fetching the series"),console.error(e)}finally{Z(!1)}};F&&e()},[F]);let T=null==v?void 0:null===(e=v.seasons)||void 0===e?void 0:e.find(e=>e.seasonNumber===C),_=e=>{E(e),window.innerWidth<640&&window.scrollTo({top:0,behavior:"smooth"})};return M?S?(0,n.jsx)("div",{className:"min-h-screen bg-[#050608] flex items-center justify-center",children:(0,n.jsxs)("div",{className:"flex flex-col items-center",children:[(0,n.jsx)("div",{className:"w-12 h-12 border-4 border-[#F5C542] border-t-transparent rounded-full animate-spin"}),(0,n.jsx)("p",{className:"mt-4 text-[#9CA3AF]",children:"Loading series..."})]})}):B||!v?(0,n.jsx)("div",{className:"min-h-screen bg-[#050608] flex items-center justify-center px-4",children:(0,n.jsxs)(r.E.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"text-center",children:[(0,n.jsx)("div",{className:"w-20 h-20 rounded-full bg-red-500/10 flex items-center justify-center mx-auto mb-6",children:(0,n.jsx)(c.Z,{className:"w-10 h-10 text-red-500"})}),(0,n.jsx)("h1",{className:"text-2xl font-bold text-[#F9FAFB] mb-2",children:B||"Series not found"}),(0,n.jsx)("p",{className:"text-[#9CA3AF] mb-6",children:"The series you're looking for doesn't exist or has been removed."}),(0,n.jsxs)(i.default,{href:"/",className:"inline-flex items-center gap-2 px-6 py-3 bg-[#F5C542] text-[#050608] rounded-xl font-semibold hover:bg-[#F5C542]/90 transition-colors",children:[(0,n.jsx)(d.Z,{className:"w-5 h-5"}),"Go Back Home"]})]})}):(0,n.jsxs)("div",{className:"min-h-screen bg-[#050608]",children:[(0,n.jsx)("header",{className:"sticky top-0 z-50 bg-[#050608]/80 backdrop-blur-xl border-b border-[#1F232D]",children:(0,n.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,n.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,n.jsxs)(i.default,{href:"/",className:"flex items-center gap-2 text-[#F9FAFB] hover:text-[#F5C542] transition-colors",children:[(0,n.jsx)(d.Z,{className:"w-5 h-5"}),(0,n.jsx)("span",{className:"font-medium",children:"Back"})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(x.Z,{className:"w-6 h-6 text-[#F5C542]"}),(0,n.jsx)("span",{className:"text-xl font-bold text-[#F9FAFB]",children:"CineStream"})]})]})})}),(0,n.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,n.jsx)("section",{className:"mb-8",children:(0,n.jsx)(N.Z,{embedIframeLink:null==A?void 0:A.embedIframeLink,title:A?"".concat(v.title," - S").concat(C,"E").concat(A.episodeNumber,": ").concat(A.episodeTitle):v.title})}),A&&(0,n.jsx)(r.E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:(0,n.jsx)("div",{className:"rounded-2xl p-6",style:{background:"linear-gradient(135deg, #0E1015 0%, #1a1d26 100%)",border:"1px solid #1F232D"},children:(0,n.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsxs)("h2",{className:"text-xl sm:text-2xl font-bold text-[#F9FAFB] mb-2",children:["S",C,"E",A.episodeNumber,":"," ",A.episodeTitle]}),(0,n.jsx)("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full bg-[#8B5CF6]/10 text-[#8B5CF6] text-sm font-medium",children:A.quality})]}),(0,n.jsxs)(i.default,{href:"/download/".concat(v._id||v.id,"?type=episode&season=").concat(C-1,"&episode=").concat(A?null==T?void 0:null===(t=T.episodes)||void 0===t?void 0:t.findIndex(e=>e.episodeNumber===A.episodeNumber):0),target:"_blank",className:"inline-flex items-center justify-center gap-2 px-6 py-3 bg-[#22C55E] hover:bg-[#22C55E]/90 text-white rounded-xl font-semibold transition-all hover:scale-105",style:{boxShadow:"0 0 30px rgba(34, 197, 94, 0.3)"},children:[(0,n.jsx)(m.Z,{className:"w-5 h-5"}),"Download Episode"]})]})})}),(0,n.jsx)(r.E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"mb-8",children:(0,n.jsxs)("div",{className:"rounded-2xl p-6",style:{background:"linear-gradient(135deg, #0E1015 0%, #1a1d26 100%)",border:"1px solid #1F232D"},children:[(0,n.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-[#F9FAFB] mb-4",children:v.title}),(0,n.jsxs)("div",{className:"flex flex-wrap items-center gap-3 mb-4",children:[void 0!==v.rating&&null!==v.rating&&(0,n.jsxs)("span",{className:"flex items-center gap-1 px-3 py-1 rounded-full bg-[#F5C542]/10 text-[#F5C542] text-sm font-medium",children:[(0,n.jsx)(u.Z,{className:"w-4 h-4"}),Number(v.rating).toFixed(1)]}),(0,n.jsxs)("span",{className:"flex items-center gap-1 px-3 py-1 rounded-full bg-[#1F232D] text-[#9CA3AF] text-sm",children:[(0,n.jsx)(h.Z,{className:"w-4 h-4"}),v.year]}),(0,n.jsxs)("span",{className:"flex items-center gap-1 px-3 py-1 rounded-full bg-[#1F232D] text-[#9CA3AF] text-sm",children:[(0,n.jsx)(p.Z,{className:"w-4 h-4"}),v.language]}),(0,n.jsxs)("span",{className:"flex items-center gap-1 px-3 py-1 rounded-full bg-[#1F232D] text-[#9CA3AF] text-sm",children:[(0,n.jsx)(x.Z,{className:"w-4 h-4"}),(null===(s=v.seasons)||void 0===s?void 0:s.length)||0," Season",1!==((null===(y=v.seasons)||void 0===y?void 0:y.length)||0)?"s":""]})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,n.jsx)(f.Z,{className:"w-4 h-4 text-[#8B5CF6]"}),(0,n.jsx)("span",{className:"text-[#9CA3AF] text-sm",children:v.category})]}),(0,n.jsx)("p",{className:"text-[#9CA3AF] leading-relaxed",children:v.description})]})}),(0,n.jsxs)("section",{children:[(0,n.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[(0,n.jsx)("h2",{className:"text-xl sm:text-2xl font-bold text-[#F9FAFB]",children:"Episodes"}),v.seasons&&v.seasons.length>1&&(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsxs)("button",{onClick:()=>L(!D),className:"flex items-center gap-2 px-4 py-2 rounded-xl bg-[#0E1015] border border-[#1F232D] text-[#F9FAFB] hover:border-[#F5C542] transition-colors",children:[(0,n.jsxs)("span",{children:["Season ",C]}),(0,n.jsx)(b.Z,{className:"w-4 h-4 transition-transform ".concat(D?"rotate-180":"")})]}),(0,n.jsx)(o.M,{children:D&&(0,n.jsx)(r.E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute top-full left-0 mt-2 w-40 rounded-xl bg-[#0E1015] border border-[#1F232D] overflow-hidden z-10",style:{boxShadow:"0 10px 40px rgba(0, 0, 0, 0.5)"},children:v.seasons.map(e=>(0,n.jsxs)("button",{onClick:()=>{k(e.seasonNumber),L(!1),E(e.episodes.find(e=>e.embedIframeLink)||e.episodes[0]||null)},className:"w-full px-4 py-3 text-left text-[#F9FAFB] hover:bg-[#1F232D] transition-colors flex items-center justify-between ".concat(C===e.seasonNumber?"bg-[#F5C542]/10":""),children:[(0,n.jsxs)("span",{children:["Season ",e.seasonNumber]}),C===e.seasonNumber&&(0,n.jsx)(g.Z,{className:"w-4 h-4 text-[#F5C542]"})]},e.seasonNumber))})})]})]}),(0,n.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:null==T?void 0:T.episodes.map((e,t)=>{let s=(null==A?void 0:A.episodeNumber)===e.episodeNumber,a=!!e.embedIframeLink;return(0,n.jsx)(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*t},onClick:()=>_(e),className:"group cursor-pointer rounded-xl p-4 transition-all ".concat(s?"bg-[#F5C542]/10 border-2 border-[#F5C542]":"bg-[#0E1015] border border-[#1F232D] hover:border-[#3a3f4d]"),children:(0,n.jsxs)("div",{className:"flex items-start gap-4",children:[(0,n.jsx)("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center flex-shrink-0 ".concat(s?"bg-[#F5C542]":a?"bg-[#1F232D] group-hover:bg-[#F5C542]/20":"bg-[#1F232D]/50"),children:s?(0,n.jsx)(j.Z,{className:"w-5 h-5 text-[#050608] fill-current"}):(0,n.jsx)("span",{className:"text-lg font-bold ".concat(a?"text-[#F9FAFB]":"text-[#9CA3AF]"),children:e.episodeNumber})}),(0,n.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,n.jsx)("h3",{className:"font-semibold truncate ".concat(s?"text-[#F5C542]":a?"text-[#F9FAFB]":"text-[#9CA3AF]"),children:e.episodeTitle}),(0,n.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,n.jsx)("span",{className:"text-xs px-2 py-0.5 rounded-full bg-[#8B5CF6]/10 text-[#8B5CF6]",children:e.quality}),!a&&(0,n.jsx)("span",{className:"text-xs text-[#9CA3AF]",children:"Unavailable"})]})]}),(0,n.jsx)("a",{href:e.downloadLink,target:"_blank",rel:"noopener noreferrer",onClick:e=>e.stopPropagation(),className:"p-2 rounded-lg transition-colors ".concat(s?"bg-[#F5C542]/20 text-[#F5C542]":"bg-[#1F232D] text-[#9CA3AF] hover:text-[#22C55E]"),children:(0,n.jsx)(m.Z,{className:"w-4 h-4"})})]})},e.episodeNumber)})})]})]})]}):(0,n.jsx)("div",{className:"min-h-screen bg-[#050608]"})}},6225:function(e,t,s){"use strict";s.d(t,{Z:function(){return o}});var n=s(7437),a=s(2265),l=s(1513);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,s(8030).Z)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);var r=s(3274);function o(e){let{embedIframeLink:t,title:s="Video Player"}=e,[o,c]=(0,a.useState)(!0);return t?(0,n.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full rounded-2xl overflow-hidden relative",style:{background:"#0E1015",border:"2px solid #1F232D",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.5), 0 0 40px rgba(245, 197, 66, 0.1)"},children:[(0,n.jsx)("div",{className:"absolute inset-0 pointer-events-none z-10 rounded-2xl",style:{boxShadow:"inset 0 0 60px rgba(245, 197, 66, 0.05)"}}),o&&(0,n.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-[#0E1015] z-20",children:(0,n.jsxs)("div",{className:"flex flex-col items-center",children:[(0,n.jsx)(r.Z,{className:"w-10 h-10 text-[#F5C542] animate-spin mb-4"}),(0,n.jsx)("span",{className:"text-[#9CA3AF] text-sm",children:"Loading player..."})]})}),(0,n.jsx)("div",{className:"relative w-full h-[240px] sm:h-[500px]",children:(0,n.jsx)("iframe",{src:t,title:s,width:"100%",height:"100%",allowFullScreen:!0,referrerPolicy:"no-referrer",sandbox:"allow-scripts allow-same-origin allow-forms allow-presentation",onLoad:()=>c(!1),className:"rounded-2xl",style:{background:"#0E1015",border:"none"}})})]}):(0,n.jsx)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full rounded-2xl overflow-hidden",style:{background:"linear-gradient(135deg, #0E1015 0%, #1a1d26 100%)",border:"2px solid #1F232D"},children:(0,n.jsxs)("div",{className:"h-[240px] sm:h-[500px] flex flex-col items-center justify-center px-6",children:[(0,n.jsx)(l.E.div,{initial:{scale:.8},animate:{scale:1},transition:{duration:.3,delay:.2},className:"w-20 h-20 rounded-full flex items-center justify-center mb-6",style:{background:"linear-gradient(135deg, rgba(245, 197, 66, 0.2) 0%, rgba(245, 197, 66, 0.05) 100%)",border:"2px solid rgba(245, 197, 66, 0.3)"},children:(0,n.jsx)(i,{className:"w-10 h-10 text-[#F5C542]"})}),(0,n.jsx)(l.E.h3,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"text-xl sm:text-2xl font-bold text-[#F9FAFB] mb-2",children:"Watch link not available"}),(0,n.jsx)(l.E.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"text-[#9CA3AF] text-center max-w-md",children:"This content is currently unavailable for streaming. Please check back later or contact support."})]})})}},4446:function(e,t,s){"use strict";s.d(t,{M:function(){return b}});var n=s(7437),a=s(2265),l=s(5050),i=s(458),r=s(7797),o=s(9791);class c extends a.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function d(e){let{children:t,isPresent:s}=e,l=(0,a.useId)(),i=(0,a.useRef)(null),r=(0,a.useRef)({width:0,height:0,top:0,left:0}),{nonce:d}=(0,a.useContext)(o._);return(0,a.useInsertionEffect)(()=>{let{width:e,height:t,top:n,left:a}=r.current;if(s||!i.current||!e||!t)return;i.current.dataset.motionPopId=l;let o=document.createElement("style");return d&&(o.nonce=d),document.head.appendChild(o),o.sheet&&o.sheet.insertRule('\n          [data-motion-pop-id="'.concat(l,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            top: ").concat(n,"px !important;\n            left: ").concat(a,"px !important;\n          }\n        ")),()=>{document.head.removeChild(o)}},[s]),(0,n.jsx)(c,{isPresent:s,childRef:i,sizeRef:r,children:a.cloneElement(t,{ref:i})})}let x=e=>{let{children:t,initial:s,isPresent:l,onExitComplete:o,custom:c,presenceAffectsLayout:x,mode:u}=e,h=(0,i.h)(m),p=(0,a.useId)(),f=(0,a.useCallback)(e=>{for(let t of(h.set(e,!0),h.values()))if(!t)return;o&&o()},[h,o]),b=(0,a.useMemo)(()=>({id:p,initial:s,isPresent:l,custom:c,onExitComplete:f,register:e=>(h.set(e,!1),()=>h.delete(e))}),x?[Math.random(),f]:[l,f]);return(0,a.useMemo)(()=>{h.forEach((e,t)=>h.set(t,!1))},[l]),a.useEffect(()=>{l||h.size||!o||o()},[l]),"popLayout"===u&&(t=(0,n.jsx)(d,{isPresent:l,children:t})),(0,n.jsx)(r.O.Provider,{value:b,children:t})};function m(){return new Map}var u=s(3241);let h=e=>e.key||"";function p(e){let t=[];return a.Children.forEach(e,e=>{(0,a.isValidElement)(e)&&t.push(e)}),t}var f=s(9033);let b=e=>{let{children:t,custom:s,initial:r=!0,onExitComplete:o,presenceAffectsLayout:c=!0,mode:d="sync",propagate:m=!1}=e,[b,g]=(0,u.oO)(m),j=(0,a.useMemo)(()=>p(t),[t]),N=m&&!b?[]:j.map(h),y=(0,a.useRef)(!0),F=(0,a.useRef)(j),v=(0,i.h)(()=>new Map),[w,C]=(0,a.useState)(j),[k,A]=(0,a.useState)(j);(0,f.L)(()=>{y.current=!1,F.current=j;for(let e=0;e<k.length;e++){let t=h(k[e]);N.includes(t)?v.delete(t):!0!==v.get(t)&&v.set(t,!1)}},[k,N.length,N.join("-")]);let E=[];if(j!==w){let e=[...j];for(let t=0;t<k.length;t++){let s=k[t],n=h(s);N.includes(n)||(e.splice(t,0,s),E.push(s))}"wait"===d&&E.length&&(e=E),A(p(e)),C(j);return}let{forceRender:S}=(0,a.useContext)(l.p);return(0,n.jsx)(n.Fragment,{children:k.map(e=>{let t=h(e),a=(!m||!!b)&&(j===k||N.includes(t));return(0,n.jsx)(x,{isPresent:a,initial:(!y.current||!!r)&&void 0,custom:a?void 0:s,presenceAffectsLayout:c,mode:d,onExitComplete:a?void 0:()=>{if(!v.has(t))return;v.set(t,!0);let e=!0;v.forEach(t=>{t||(e=!1)}),e&&(null==S||S(),A(F.current),m&&(null==g||g()),o&&o())},children:e},t)})})}}},function(e){e.O(0,[231,873,971,23,744],function(){return e(e.s=5776)}),_N_E=e.O()}]);