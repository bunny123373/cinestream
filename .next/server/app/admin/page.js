(()=>{var e={};e.id=3,e.ids=[3],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7493:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>c,routeModule:()=>u,tree:()=>d}),t(4753),t(3008),t(5866);var a=t(3191),r=t(8716),l=t(7922),n=t.n(l),o=t(5231),i={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>o[e]);t.d(s,i);let d=["",{children:["admin",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,4753)),"D:\\downloads\\Iframe Player Update\\my-app\\src\\app\\admin\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,3008)),"D:\\downloads\\Iframe Player Update\\my-app\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}],c=["D:\\downloads\\Iframe Player Update\\my-app\\src\\app\\admin\\page.tsx"],m="/admin/page",x={require:t,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/admin/page",pathname:"/admin",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},5378:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,2994,23)),Promise.resolve().then(t.t.bind(t,6114,23)),Promise.resolve().then(t.t.bind(t,9727,23)),Promise.resolve().then(t.t.bind(t,9671,23)),Promise.resolve().then(t.t.bind(t,1868,23)),Promise.resolve().then(t.t.bind(t,4759,23))},3445:(e,s,t)=>{Promise.resolve().then(t.bind(t,7546))},6943:(e,s,t)=>{Promise.resolve().then(t.bind(t,3885))},2933:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(2881).Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},8393:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(2881).Z)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},7027:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(2881).Z)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]])},7622:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(2881).Z)("Film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]])},7506:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(2881).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},8307:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(2881).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},2847:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(2881).Z)("Tv",[["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",ry:"2",key:"10ag99"}],["polyline",{points:"17 2 12 7 7 2",key:"11pgbg"}]])},4019:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(2881).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},7546:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>Y});var a=t(326),r=t(7577),l=t(434),n=t(58),o=t(8129),i=t(2881);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let d=(0,i.Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var c=t(6333);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let m=(0,i.Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);var x=t(7622);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let u=(0,i.Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var p=t(8307),h=t(7506);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let b=(0,i.Z)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),g=(0,i.Z)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);var f=t(4014),y=t(765),F=t(7358),j=t(3734);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let N=(0,i.Z)("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);var v=t(1540);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let C=(0,i.Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),A={Action:"Action",Adventure:"Action",Animation:"Anime",Comedy:"Comedy",Crime:"Thriller",Documentary:"Drama",Drama:"Drama",Family:"Drama",Fantasy:"Sci-Fi",History:"Drama",Horror:"Horror",Music:"Drama",Mystery:"Thriller",Romance:"Romance","Science Fiction":"Sci-Fi","TV Movie":"Drama",Thriller:"Thriller",War:"Action",Western:"Action"},w=e=>{if(!e||0===e.length)return"";for(let s of e)if(A[s])return A[s];return e[0]||""};function k({adminKey:e,onSuccess:s}){let[t,l]=(0,r.useState)(!1),[o,i]=(0,r.useState)(null),[d,c]=(0,r.useState)(!1),[m,u]=(0,r.useState)(""),[A,k]=(0,r.useState)(!1),[D,S]=(0,r.useState)([]),[B,E]=(0,r.useState)(!1),[L,M]=(0,r.useState)({title:"",description:"",poster:"",backdrop:"",language:"",category:"",year:new Date().getFullYear(),rating:"",duration:"",embedIframeLink:"",downloadLink:"",tmdbId:""}),Z=async e=>{if(e.preventDefault(),m.trim()){k(!0),S([]),E(!0);try{let e=await fetch(`/api/tmdb?query=${encodeURIComponent(m)}&type=movie`),s=await e.json();console.log("TMDB Response:",s),s.success&&s.data?.results&&s.data.results.length>0?S(s.data.results):console.log("No results or error:",s.message)}catch(e){console.error("Search error:",e)}finally{k(!1)}}},q=async e=>{try{let s=await fetch(`/api/tmdb?id=${e.tmdbId}&type=movie`),t=await s.json(),a=e.category||"";t.success&&t.data?.genres?.length>0&&(a=w(t.data.genres)),M(s=>({...s,title:e.title||"",description:e.overview||"",poster:e.poster||"",backdrop:e.backdrop||"",year:e.releaseDate?new Date(e.releaseDate).getFullYear():new Date().getFullYear(),rating:e.rating?.toString()||"",tmdbId:e.tmdbId?.toString()||"",category:a}))}catch(s){console.error("Error fetching movie details:",s),M(s=>({...s,title:e.title||"",description:e.overview||"",poster:e.poster||"",backdrop:e.backdrop||"",year:e.releaseDate?new Date(e.releaseDate).getFullYear():new Date().getFullYear(),rating:e.rating?.toString()||"",tmdbId:e.tmdbId?.toString()||""}))}u(e.title||""),E(!1),S([])},P=e=>{let{name:s,value:t}=e.target;M(e=>({...e,[s]:"year"===s||"rating"===s?t?parseFloat(t):"":t}))},I=async t=>{t.preventDefault(),l(!0),i(null),c(!1);try{let t={title:L.title,description:L.description,type:"movie",poster:L.poster,backdrop:L.backdrop||null,language:L.language,category:L.category,year:Number(L.year),rating:L.rating?parseFloat(L.rating):null,duration:L.duration||null,movieData:{embedIframeLink:L.embedIframeLink||null,downloadLink:L.downloadLink}},a=await fetch("/api/content",{method:"POST",headers:{"Content-Type":"application/json","x-admin-key":e},body:JSON.stringify(t)}),r=await a.json();if(!r.success)throw Error(r.message||"Failed to upload movie");c(!0),M({title:"",description:"",poster:"",backdrop:"",language:"",category:"",year:new Date().getFullYear(),rating:"",duration:"",embedIframeLink:"",downloadLink:"",tmdbId:""}),u(""),s?.()}catch(e){i(e instanceof Error?e.message:"An error occurred")}finally{l(!1)}};return(0,a.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"rounded-2xl p-6 sm:p-8",style:{background:"linear-gradient(135deg, #0E1015 0%, #1a1d26 100%)",border:"1px solid #1F232D"},children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"w-10 h-10 rounded-lg bg-[#F5C542]/10 flex items-center justify-center",children:a.jsx(x.Z,{className:"w-5 h-5 text-[#F5C542]"})}),a.jsx("h2",{className:"text-xl font-bold text-[#F9FAFB]",children:"Upload Movie"})]}),a.jsx("div",{className:"mb-6 p-4 rounded-xl bg-[#8B5CF6]/10 border border-[#8B5CF6]/20 relative",children:(0,a.jsxs)("form",{onSubmit:Z,className:"relative",children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-[#9CA3AF] mb-2",children:[a.jsx(p.Z,{className:"w-4 h-4 inline mr-1"}),"Search from TMDB (Auto-fill details)"]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:m,onChange:e=>{u(e.target.value),e.target.value||(E(!1),S([]))},onFocus:()=>D.length>0&&E(!0),className:"flex-1 px-4 py-3 rounded-xl bg-[#050608] border border-[#1F232D] text-[#F9FAFB] placeholder-[#9CA3AF]/50 focus:border-[#8B5CF6] focus:outline-none transition-colors",placeholder:"Search movies..."}),a.jsx("button",{type:"submit",disabled:A,className:"px-4 py-3 rounded-xl bg-[#8B5CF6] text-white font-medium hover:bg-[#8B5CF6]/90 transition-colors disabled:opacity-50",children:A?a.jsx(h.Z,{className:"w-5 h-5 animate-spin"}):a.jsx(p.Z,{className:"w-5 h-5"})})]}),B&&D.length>0&&a.jsx("div",{className:"absolute z-50 left-0 right-0 mt-2 bg-[#1a1d26] border border-[#1F232D] rounded-xl max-h-60 overflow-y-auto shadow-xl",children:D.map(e=>(0,a.jsxs)("button",{type:"button",onClick:()=>q(e),className:"w-full flex items-center gap-3 p-3 hover:bg-[#8B5CF6]/20 transition-colors text-left border-b border-[#1F232D]/50 last:border-0",children:[e.poster&&a.jsx("img",{src:e.poster,alt:"",className:"w-10 h-14 object-cover rounded"}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-[#F9FAFB] font-medium truncate",children:e.title}),(0,a.jsxs)("p",{className:"text-xs text-[#9CA3AF]",children:[e.releaseDate?.split("-")[0]," • ",e.rating?.toFixed(1)," ★"]})]})]},e.tmdbId))})]})}),o&&a.jsx(n.E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 p-4 rounded-xl bg-red-500/10 border border-red-500/20 text-red-400",children:o}),d&&a.jsx(n.E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 p-4 rounded-xl bg-[#22C55E]/10 border border-[#22C55E]/20 text-[#22C55E]",children:"Movie uploaded successfully!"}),(0,a.jsxs)("form",{onSubmit:I,className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"sm:col-span-2",children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-[#9CA3AF] mb-2",children:[a.jsx(b,{className:"w-4 h-4 inline mr-1"}),"Title *"]}),a.jsx("input",{type:"text",name:"title",value:L.title,onChange:P,required:!0,className:"w-full px-4 py-3 rounded-xl bg-[#050608] border border-[#1F232D] text-[#F9FAFB] placeholder-[#9CA3AF]/50 focus:border-[#F5C542] focus:outline-none transition-colors",placeholder:"Enter movie title"})]}),(0,a.jsxs)("div",{className:"sm:col-span-2",children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-[#9CA3AF] mb-2",children:[a.jsx(b,{className:"w-4 h-4 inline mr-1"}),"Description *"]}),a.jsx("textarea",{name:"description",value:L.description,onChange:P,required:!0,rows:4,className:"w-full px-4 py-3 rounded-xl bg-[#050608] border border-[#1F232D] text-[#F9FAFB] placeholder-[#9CA3AF]/50 focus:border-[#F5C542] focus:outline-none transition-colors resize-none",placeholder:"Enter movie description"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-[#9CA3AF] mb-2",children:[a.jsx(g,{className:"w-4 h-4 inline mr-1"}),"Poster URL *"]}),a.jsx("input",{type:"url",name:"poster",value:L.poster,onChange:P,required:!0,className:"w-full px-4 py-3 rounded-xl bg-[#050608] border border-[#1F232D] text-[#F9FAFB] placeholder-[#9CA3AF]/50 focus:border-[#F5C542] focus:outline-none transition-colors",placeholder:"https://example.com/poster.jpg"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-[#9CA3AF] mb-2",children:[a.jsx(g,{className:"w-4 h-4 inline mr-1"}),"Backdrop URL"]}),a.jsx("input",{type:"url",name:"backdrop",value:L.backdrop,onChange:P,className:"w-full px-4 py-3 rounded-xl bg-[#050608] border border-[#1F232D] text-[#F9FAFB] placeholder-[#9CA3AF]/50 focus:border-[#F5C542] focus:outline-none transition-colors",placeholder:"https://example.com/backdrop.jpg"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-[#9CA3AF] mb-2",children:[a.jsx(f.Z,{className:"w-4 h-4 inline mr-1"}),"Language *"]}),a.jsx("input",{type:"text",name:"language",value:L.language,onChange:P,required:!0,className:"w-full px-4 py-3 rounded-xl bg-[#050608] border border-[#1F232D] text-[#F9FAFB] placeholder-[#9CA3AF]/50 focus:border-[#F5C542] focus:outline-none transition-colors",placeholder:"e.g., English, Hindi"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-[#9CA3AF] mb-2",children:[a.jsx(y.Z,{className:"w-4 h-4 inline mr-1"}),"Category *"]}),a.jsx("input",{type:"text",name:"category",value:L.category,onChange:P,required:!0,className:"w-full px-4 py-3 rounded-xl bg-[#050608] border border-[#1F232D] text-[#F9FAFB] placeholder-[#9CA3AF]/50 focus:border-[#F5C542] focus:outline-none transition-colors",placeholder:"e.g., Action, Drama"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-[#9CA3AF] mb-2",children:[a.jsx(F.Z,{className:"w-4 h-4 inline mr-1"}),"Year *"]}),a.jsx("input",{type:"number",name:"year",value:L.year,onChange:P,required:!0,min:1900,max:2100,className:"w-full px-4 py-3 rounded-xl bg-[#050608] border border-[#1F232D] text-[#F9FAFB] placeholder-[#9CA3AF]/50 focus:border-[#F5C542] focus:outline-none transition-colors"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-[#9CA3AF] mb-2",children:[a.jsx(j.Z,{className:"w-4 h-4 inline mr-1"}),"Rating (TMDB)"]}),a.jsx("input",{type:"number",name:"rating",value:L.rating,onChange:P,min:0,max:10,step:.1,className:"w-full px-4 py-3 rounded-xl bg-[#050608] border border-[#1F232D] text-[#F9FAFB] placeholder-[#9CA3AF]/50 focus:border-[#F5C542] focus:outline-none transition-colors",placeholder:"0.0 - 10.0"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-[#9CA3AF] mb-2",children:"Duration"}),a.jsx("input",{type:"text",name:"duration",value:L.duration,onChange:P,className:"w-full px-4 py-3 rounded-xl bg-[#050608] border border-[#1F232D] text-[#F9FAFB] placeholder-[#9CA3AF]/50 focus:border-[#F5C542] focus:outline-none transition-colors",placeholder:"e.g., 2h 30m"})]})]}),(0,a.jsxs)("div",{className:"p-6 rounded-xl space-y-6",style:{background:"rgba(245, 197, 66, 0.05)",border:"1px solid rgba(245, 197, 66, 0.2)"},children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-[#F5C542] flex items-center gap-2",children:[a.jsx(N,{className:"w-5 h-5"}),"Streaming Links"]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-6",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-[#9CA3AF] mb-2",children:"Embed Iframe Link"}),a.jsx("input",{type:"url",name:"embedIframeLink",value:L.embedIframeLink,onChange:P,className:"w-full px-4 py-3 rounded-xl bg-[#050608] border border-[#1F232D] text-[#F9FAFB] placeholder-[#9CA3AF]/50 focus:border-[#F5C542] focus:outline-none transition-colors",placeholder:"https://example.com/embed/..."}),a.jsx("p",{className:"mt-1 text-xs text-[#9CA3AF]",children:"Paste embed player URL (iframe src link)"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-[#9CA3AF] mb-2",children:[a.jsx(v.Z,{className:"w-4 h-4 inline mr-1"}),"Download Link *"]}),a.jsx("input",{type:"url",name:"downloadLink",value:L.downloadLink,onChange:P,required:!0,className:"w-full px-4 py-3 rounded-xl bg-[#050608] border border-[#1F232D] text-[#F9FAFB] placeholder-[#9CA3AF]/50 focus:border-[#F5C542] focus:outline-none transition-colors",placeholder:"https://example.com/download/..."})]})]})]}),a.jsx("button",{type:"submit",disabled:t,className:"w-full py-4 px-6 rounded-xl bg-[#F5C542] text-[#050608] font-semibold flex items-center justify-center gap-2 hover:bg-[#F5C542]/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:t?(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"w-5 h-5 border-2 border-[#050608] border-t-transparent rounded-full animate-spin"}),"Uploading..."]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx(C,{className:"w-5 h-5"}),"Upload Movie"]})})]})]})}var D=t(2847);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let S=(0,i.Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),B=(0,i.Z)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);var E=t(8393),L=t(4893);function M({seasons:e,onChange:s}){let[t,l]=(0,r.useState)([1]),i=e=>{l(s=>s.includes(e)?s.filter(s=>s!==e):[...s,e])},d=t=>{s(e.filter(e=>e.seasonNumber!==t)),l(e=>e.filter(e=>e!==t))},c=t=>{let a=e.find(e=>e.seasonNumber===t);if(!a)return;let r=a.episodes.length>0?Math.max(...a.episodes.map(e=>e.episodeNumber))+1:1,l={episodeNumber:r,episodeTitle:`Episode ${r}`,embedIframeLink:"",downloadLink:"",quality:"HD"};s(e.map(e=>e.seasonNumber===t?{...e,episodes:[...e.episodes,l]}:e))},m=(t,a)=>{s(e.map(e=>e.seasonNumber===t?{...e,episodes:e.episodes.filter(e=>e.episodeNumber!==a)}:e))},x=(t,a,r)=>{s(e.map(e=>e.seasonNumber===t?{...e,episodes:e.episodes.map(e=>e.episodeNumber===a?{...e,...r}:e)}:e))};return(0,a.jsxs)("div",{className:"space-y-4",children:[0===e.length&&a.jsx("div",{className:"text-center py-8 text-[#9CA3AF]",children:"No seasons added yet. Click the button below to add a season."}),e.map(e=>(0,a.jsxs)(n.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"rounded-xl overflow-hidden",style:{background:"linear-gradient(135deg, #0E1015 0%, #1a1d26 100%)",border:"1px solid #1F232D"},children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 cursor-pointer hover:bg-[#1F232D]/30 transition-colors",onClick:()=>i(e.seasonNumber),children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 rounded-lg bg-[#F5C542]/10 flex items-center justify-center",children:(0,a.jsxs)("span",{className:"text-sm font-bold text-[#F5C542]",children:["S",e.seasonNumber]})}),(0,a.jsxs)("span",{className:"font-medium text-[#F9FAFB]",children:["Season ",e.seasonNumber]}),(0,a.jsxs)("span",{className:"text-sm text-[#9CA3AF]",children:["(",e.episodes.length," episode",1!==e.episodes.length?"s":"",")"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("button",{type:"button",onClick:s=>{s.stopPropagation(),d(e.seasonNumber)},className:"p-2 rounded-lg hover:bg-red-500/10 text-[#9CA3AF] hover:text-red-400 transition-colors",children:a.jsx(S,{className:"w-4 h-4"})}),t.includes(e.seasonNumber)?a.jsx(B,{className:"w-5 h-5 text-[#9CA3AF]"}):a.jsx(E.Z,{className:"w-5 h-5 text-[#9CA3AF]"})]})]}),a.jsx(o.M,{children:t.includes(e.seasonNumber)&&a.jsx(n.E.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:(0,a.jsxs)("div",{className:"p-4 pt-0 space-y-3",children:[0===e.episodes.length&&a.jsx("div",{className:"text-center py-4 text-[#9CA3AF] text-sm",children:"No episodes added yet."}),e.episodes.map(s=>(0,a.jsxs)(n.E.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"p-4 rounded-xl bg-[#050608] border border-[#1F232D] space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-6 h-6 rounded bg-[#8B5CF6]/10 flex items-center justify-center",children:a.jsx(L.Z,{className:"w-3 h-3 text-[#8B5CF6]"})}),(0,a.jsxs)("span",{className:"text-sm font-medium text-[#F9FAFB]",children:["Episode ",s.episodeNumber]})]}),a.jsx("button",{type:"button",onClick:()=>m(e.seasonNumber,s.episodeNumber),className:"p-1.5 rounded hover:bg-red-500/10 text-[#9CA3AF] hover:text-red-400 transition-colors",children:a.jsx(S,{className:"w-4 h-4"})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-[#9CA3AF] mb-1",children:"Episode Title *"}),a.jsx("input",{type:"text",value:s.episodeTitle,onChange:t=>x(e.seasonNumber,s.episodeNumber,{episodeTitle:t.target.value}),className:"w-full px-3 py-2 rounded-lg bg-[#0E1015] border border-[#1F232D] text-[#F9FAFB] text-sm focus:border-[#F5C542] focus:outline-none transition-colors",placeholder:"Episode title"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-[#9CA3AF] mb-1",children:"Quality"}),(0,a.jsxs)("select",{value:s.quality,onChange:t=>x(e.seasonNumber,s.episodeNumber,{quality:t.target.value}),className:"w-full px-3 py-2 rounded-lg bg-[#0E1015] border border-[#1F232D] text-[#F9FAFB] text-sm focus:border-[#F5C542] focus:outline-none transition-colors",children:[a.jsx("option",{value:"SD",children:"SD"}),a.jsx("option",{value:"HD",children:"HD"}),a.jsx("option",{value:"FHD",children:"FHD"}),a.jsx("option",{value:"4K",children:"4K"})]})]}),(0,a.jsxs)("div",{className:"sm:col-span-2",children:[(0,a.jsxs)("label",{className:"block text-xs font-medium text-[#9CA3AF] mb-1",children:[a.jsx(N,{className:"w-3 h-3 inline mr-1"}),"Embed Iframe Link"]}),a.jsx("input",{type:"url",value:s.embedIframeLink||"",onChange:t=>x(e.seasonNumber,s.episodeNumber,{embedIframeLink:t.target.value}),className:"w-full px-3 py-2 rounded-lg bg-[#0E1015] border border-[#1F232D] text-[#F9FAFB] text-sm focus:border-[#F5C542] focus:outline-none transition-colors",placeholder:"https://example.com/embed/..."}),a.jsx("p",{className:"mt-1 text-xs text-[#9CA3AF]",children:"Paste embed player URL (iframe src link)"})]}),(0,a.jsxs)("div",{className:"sm:col-span-2",children:[(0,a.jsxs)("label",{className:"block text-xs font-medium text-[#9CA3AF] mb-1",children:[a.jsx(v.Z,{className:"w-3 h-3 inline mr-1"}),"Download Link *"]}),a.jsx("input",{type:"url",value:s.downloadLink,onChange:t=>x(e.seasonNumber,s.episodeNumber,{downloadLink:t.target.value}),required:!0,className:"w-full px-3 py-2 rounded-lg bg-[#0E1015] border border-[#1F232D] text-[#F9FAFB] text-sm focus:border-[#F5C542] focus:outline-none transition-colors",placeholder:"https://example.com/download/..."})]})]})]},s.episodeNumber)),(0,a.jsxs)("button",{type:"button",onClick:()=>c(e.seasonNumber),className:"w-full py-3 rounded-xl border border-dashed border-[#1F232D] text-[#9CA3AF] hover:text-[#F5C542] hover:border-[#F5C542]/50 transition-colors flex items-center justify-center gap-2",children:[a.jsx(u,{className:"w-4 h-4"}),"Add Episode"]})]})})})]},e.seasonNumber)),(0,a.jsxs)("button",{type:"button",onClick:()=>{let t=e.length>0?Math.max(...e.map(e=>e.seasonNumber))+1:1;s([...e,{seasonNumber:t,episodes:[]}]),l(e=>[...e,t])},className:"w-full py-4 rounded-xl bg-[#F5C542]/10 border border-[#F5C542]/30 text-[#F5C542] hover:bg-[#F5C542]/20 transition-colors flex items-center justify-center gap-2",children:[a.jsx(u,{className:"w-5 h-5"}),"Add Season"]})]})}let Z={Action:"Action",Adventure:"Action",Animation:"Anime",Comedy:"Comedy",Crime:"Thriller",Documentary:"Drama",Drama:"Drama",Family:"Drama",Fantasy:"Sci-Fi",History:"Drama",Horror:"Horror",Music:"Drama",Mystery:"Thriller",Romance:"Romance","Science Fiction":"Sci-Fi","TV Movie":"Drama",Thriller:"Thriller",War:"Action",Western:"Action",Talk:"Drama",News:"Drama",Reality:"Drama",Soap:"Drama","War & Politics":"Action"},q=e=>{if(!e||0===e.length)return"";for(let s of e)if(Z[s])return Z[s];return e[0]||""};function P({adminKey:e,onSuccess:s}){let[t,l]=(0,r.useState)(!1),[o,i]=(0,r.useState)(null),[d,c]=(0,r.useState)(!1),[m,x]=(0,r.useState)(""),[u,N]=(0,r.useState)(!1),[v,A]=(0,r.useState)([]),[w,k]=(0,r.useState)(!1),[S,B]=(0,r.useState)({title:"",description:"",poster:"",backdrop:"",language:"",category:"",year:new Date().getFullYear(),rating:"",seasons:[],tmdbId:""}),E=async e=>{if(e.preventDefault(),m.trim()){N(!0),A([]),k(!0);try{let e=await fetch(`/api/tmdb?query=${encodeURIComponent(m)}&type=tv`),s=await e.json();s.success&&A(s.data.results||[s.data])}catch(e){console.error("Search error:",e)}finally{N(!1)}}},L=async e=>{try{let s=await fetch(`/api/tmdb?id=${e.tmdbId}&type=tv`),t=await s.json(),a=e.category||"";t.success&&t.data?.genres?.length>0&&(a=q(t.data.genres)),B(s=>({...s,title:e.title||"",description:e.overview||"",poster:e.poster||"",backdrop:e.backdrop||"",year:e.releaseDate?new Date(e.releaseDate).getFullYear():new Date().getFullYear(),rating:e.rating?.toString()||"",tmdbId:e.tmdbId?.toString()||"",category:a}))}catch(s){console.error("Error fetching show details:",s),B(s=>({...s,title:e.title||"",description:e.overview||"",poster:e.poster||"",backdrop:e.backdrop||"",year:e.releaseDate?new Date(e.releaseDate).getFullYear():new Date().getFullYear(),rating:e.rating?.toString()||"",tmdbId:e.tmdbId?.toString()||""}))}x(e.title||""),k(!1),A([])},Z=e=>{let{name:s,value:t}=e.target;B(e=>({...e,[s]:"year"===s||"rating"===s?t?parseFloat(t):"":t}))},P=async t=>{if(t.preventDefault(),l(!0),i(null),c(!1),0===S.seasons.length){i("At least one season is required"),l(!1);return}for(let e of S.seasons){if(0===e.episodes.length){i(`Season ${e.seasonNumber} must have at least one episode`),l(!1);return}for(let s of e.episodes){if(!s.episodeTitle.trim()){i(`Episode ${s.episodeNumber} in Season ${e.seasonNumber} is missing a title`),l(!1);return}if(!s.downloadLink.trim()){i(`Episode ${s.episodeNumber} in Season ${e.seasonNumber} is missing a download link`),l(!1);return}}}try{let t={title:S.title,description:S.description,type:"series",poster:S.poster,backdrop:S.backdrop||null,language:S.language,category:S.category,year:Number(S.year),rating:S.rating?parseFloat(S.rating):null,seasons:S.seasons},a=await fetch("/api/content",{method:"POST",headers:{"Content-Type":"application/json","x-admin-key":e},body:JSON.stringify(t)}),r=await a.json();if(!r.success)throw Error(r.message||"Failed to upload series");c(!0),B({title:"",description:"",poster:"",backdrop:"",language:"",category:"",year:new Date().getFullYear(),rating:"",seasons:[],tmdbId:""}),x(""),s?.()}catch(e){i(e instanceof Error?e.message:"An error occurred")}finally{l(!1)}};return(0,a.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"rounded-2xl p-6 sm:p-8",style:{background:"linear-gradient(135deg, #0E1015 0%, #1a1d26 100%)",border:"1px solid #1F232D"},children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"w-10 h-10 rounded-lg bg-[#8B5CF6]/10 flex items-center justify-center",children:a.jsx(D.Z,{className:"w-5 h-5 text-[#8B5CF6]"})}),a.jsx("h2",{className:"text-xl font-bold text-[#F9FAFB]",children:"Upload Series"})]}),a.jsx("div",{className:"mb-6 p-4 rounded-xl bg-[#8B5CF6]/10 border border-[#8B5CF6]/20",children:(0,a.jsxs)("form",{onSubmit:E,className:"relative",children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-[#9CA3AF] mb-2",children:[a.jsx(p.Z,{className:"w-4 h-4 inline mr-1"}),"Search from TMDB (Auto-fill details)"]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:m,onChange:e=>{x(e.target.value),e.target.value||(k(!1),A([]))},onFocus:()=>v.length>0&&k(!0),className:"flex-1 px-4 py-3 rounded-xl bg-[#050608] border border-[#1F232D] text-[#F9FAFB] placeholder-[#9CA3AF]/50 focus:border-[#8B5CF6] focus:outline-none transition-colors",placeholder:"Search TV shows..."}),a.jsx("button",{type:"submit",disabled:u,className:"px-4 py-3 rounded-xl bg-[#8B5CF6] text-white font-medium hover:bg-[#8B5CF6]/90 transition-colors disabled:opacity-50",children:u?a.jsx(h.Z,{className:"w-5 h-5 animate-spin"}):a.jsx(p.Z,{className:"w-5 h-5"})})]}),w&&v.length>0&&a.jsx("div",{className:"absolute z-50 w-full mt-2 bg-[#1a1d26] border border-[#1F232D] rounded-xl max-h-60 overflow-y-auto",children:v.map(e=>(0,a.jsxs)("button",{type:"button",onClick:()=>L(e),className:"w-full flex items-center gap-3 p-3 hover:bg-[#1F232D] transition-colors text-left",children:[e.poster&&a.jsx("img",{src:e.poster,alt:"",className:"w-10 h-14 object-cover rounded"}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-[#F9FAFB] font-medium truncate",children:e.title}),(0,a.jsxs)("p",{className:"text-xs text-[#9CA3AF]",children:[e.releaseDate?.split("-")[0]," • ",e.rating?.toFixed(1)," ★"]})]})]},e.tmdbId))})]})}),o&&a.jsx(n.E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 p-4 rounded-xl bg-red-500/10 border border-red-500/20 text-red-400",children:o}),d&&a.jsx(n.E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 p-4 rounded-xl bg-[#22C55E]/10 border border-[#22C55E]/20 text-[#22C55E]",children:"Series uploaded successfully!"}),(0,a.jsxs)("form",{onSubmit:P,className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"sm:col-span-2",children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-[#9CA3AF] mb-2",children:[a.jsx(b,{className:"w-4 h-4 inline mr-1"}),"Title *"]}),a.jsx("input",{type:"text",name:"title",value:S.title,onChange:Z,required:!0,className:"w-full px-4 py-3 rounded-xl bg-[#050608] border border-[#1F232D] text-[#F9FAFB] placeholder-[#9CA3AF]/50 focus:border-[#8B5CF6] focus:outline-none transition-colors",placeholder:"Enter series title"})]}),(0,a.jsxs)("div",{className:"sm:col-span-2",children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-[#9CA3AF] mb-2",children:[a.jsx(b,{className:"w-4 h-4 inline mr-1"}),"Description *"]}),a.jsx("textarea",{name:"description",value:S.description,onChange:Z,required:!0,rows:4,className:"w-full px-4 py-3 rounded-xl bg-[#050608] border border-[#1F232D] text-[#F9FAFB] placeholder-[#9CA3AF]/50 focus:border-[#8B5CF6] focus:outline-none transition-colors resize-none",placeholder:"Enter series description"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-[#9CA3AF] mb-2",children:[a.jsx(g,{className:"w-4 h-4 inline mr-1"}),"Poster URL *"]}),a.jsx("input",{type:"url",name:"poster",value:S.poster,onChange:Z,required:!0,className:"w-full px-4 py-3 rounded-xl bg-[#050608] border border-[#1F232D] text-[#F9FAFB] placeholder-[#9CA3AF]/50 focus:border-[#8B5CF6] focus:outline-none transition-colors",placeholder:"https://example.com/poster.jpg"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-[#9CA3AF] mb-2",children:[a.jsx(g,{className:"w-4 h-4 inline mr-1"}),"Backdrop URL"]}),a.jsx("input",{type:"url",name:"backdrop",value:S.backdrop,onChange:Z,className:"w-full px-4 py-3 rounded-xl bg-[#050608] border border-[#1F232D] text-[#F9FAFB] placeholder-[#9CA3AF]/50 focus:border-[#8B5CF6] focus:outline-none transition-colors",placeholder:"https://example.com/backdrop.jpg"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-[#9CA3AF] mb-2",children:[a.jsx(f.Z,{className:"w-4 h-4 inline mr-1"}),"Language *"]}),a.jsx("input",{type:"text",name:"language",value:S.language,onChange:Z,required:!0,className:"w-full px-4 py-3 rounded-xl bg-[#050608] border border-[#1F232D] text-[#F9FAFB] placeholder-[#9CA3AF]/50 focus:border-[#8B5CF6] focus:outline-none transition-colors",placeholder:"e.g., English, Hindi"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-[#9CA3AF] mb-2",children:[a.jsx(y.Z,{className:"w-4 h-4 inline mr-1"}),"Category *"]}),a.jsx("input",{type:"text",name:"category",value:S.category,onChange:Z,required:!0,className:"w-full px-4 py-3 rounded-xl bg-[#050608] border border-[#1F232D] text-[#F9FAFB] placeholder-[#9CA3AF]/50 focus:border-[#8B5CF6] focus:outline-none transition-colors",placeholder:"e.g., Drama, Thriller"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-[#9CA3AF] mb-2",children:[a.jsx(F.Z,{className:"w-4 h-4 inline mr-1"}),"Year *"]}),a.jsx("input",{type:"number",name:"year",value:S.year,onChange:Z,required:!0,min:1900,max:2100,className:"w-full px-4 py-3 rounded-xl bg-[#050608] border border-[#1F232D] text-[#F9FAFB] placeholder-[#9CA3AF]/50 focus:border-[#8B5CF6] focus:outline-none transition-colors"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-[#9CA3AF] mb-2",children:[a.jsx(j.Z,{className:"w-4 h-4 inline mr-1"}),"Rating (TMDB)"]}),a.jsx("input",{type:"number",name:"rating",value:S.rating,onChange:Z,min:0,max:10,step:.1,className:"w-full px-4 py-3 rounded-xl bg-[#050608] border border-[#1F232D] text-[#F9FAFB] placeholder-[#9CA3AF]/50 focus:border-[#8B5CF6] focus:outline-none transition-colors",placeholder:"0.0 - 10.0"})]})]}),(0,a.jsxs)("div",{className:"p-6 rounded-xl",style:{background:"rgba(139, 92, 246, 0.05)",border:"1px solid rgba(139, 92, 246, 0.2)"},children:[a.jsx("h3",{className:"text-lg font-semibold text-[#8B5CF6] mb-4",children:"Seasons & Episodes"}),a.jsx(M,{seasons:S.seasons,onChange:e=>{B(s=>({...s,seasons:e}))}})]}),a.jsx("button",{type:"submit",disabled:t,className:"w-full py-4 px-6 rounded-xl bg-[#8B5CF6] text-white font-semibold flex items-center justify-center gap-2 hover:bg-[#8B5CF6]/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:t?(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Uploading..."]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx(C,{className:"w-5 h-5"}),"Upload Series"]})})]})]})}var I=t(1291),T=t(2933),$=t(4019),H=t(7027);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let R=(0,i.Z)("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);function U({content:e,onEdit:s,onDelete:t,loading:l=!1}){let[o,i]=(0,r.useState)(null),d=e=>{o===(e._id||e.id)?(t(e),i(null)):i(e._id||e.id||null)},c=e=>"movie"===e.type?!!e.movieData?.embedIframeLink:e.seasons?.some(e=>e.episodes.some(e=>e.embedIframeLink))||!1;return l?a.jsx("div",{className:"rounded-2xl p-8",style:{background:"#0E1015",border:"1px solid #1F232D"},children:a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"w-8 h-8 border-4 border-[#F5C542] border-t-transparent rounded-full animate-spin"})})}):0===e.length?a.jsx("div",{className:"rounded-2xl p-8",style:{background:"#0E1015",border:"1px solid #1F232D"},children:(0,a.jsxs)("div",{className:"text-center py-12 text-[#9CA3AF]",children:[a.jsx(I.Z,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"No content found."})]})}):a.jsx("div",{className:"rounded-2xl overflow-hidden",style:{background:"#0E1015",border:"1px solid #1F232D"},children:a.jsx("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[a.jsx("thead",{children:(0,a.jsxs)("tr",{className:"border-b border-[#1F232D]",children:[a.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-[#9CA3AF] uppercase tracking-wider",children:"Content"}),a.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-[#9CA3AF] uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-[#9CA3AF] uppercase tracking-wider",children:"Language"}),a.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-[#9CA3AF] uppercase tracking-wider",children:"Category"}),a.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-[#9CA3AF] uppercase tracking-wider",children:"Year"}),a.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-[#9CA3AF] uppercase tracking-wider",children:"Embed Available"}),a.jsx("th",{className:"px-4 py-4 text-right text-xs font-medium text-[#9CA3AF] uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-[#1F232D]",children:e.map((e,t)=>{let r=c(e),l=e._id||e.id;return(0,a.jsxs)(n.E.tr,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.05*t},className:"hover:bg-[#1F232D]/30 transition-colors",children:[a.jsx("td",{className:"px-4 py-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-14 rounded-lg overflow-hidden flex-shrink-0 bg-[#1F232D]",children:e.poster?a.jsx("img",{src:e.poster,alt:e.title,className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center",children:"movie"===e.type?a.jsx(x.Z,{className:"w-4 h-4 text-[#9CA3AF]"}):a.jsx(D.Z,{className:"w-4 h-4 text-[#9CA3AF]"})})}),(0,a.jsxs)("div",{className:"min-w-0",children:[a.jsx("p",{className:"font-medium text-[#F9FAFB] truncate max-w-[200px]",children:e.title}),a.jsx("p",{className:"text-xs text-[#9CA3AF]",children:"series"===e.type?`${e.seasons?.length||0} season${1!==(e.seasons?.length||0)?"s":""}`:e.duration||"Movie"})]})]})}),a.jsx("td",{className:"px-4 py-4",children:(0,a.jsxs)("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${"movie"===e.type?"bg-[#F5C542]/10 text-[#F5C542]":"bg-[#8B5CF6]/10 text-[#8B5CF6]"}`,children:["movie"===e.type?a.jsx(x.Z,{className:"w-3 h-3"}):a.jsx(D.Z,{className:"w-3 h-3"}),"movie"===e.type?"Movie":"Series"]})}),a.jsx("td",{className:"px-4 py-4",children:a.jsx("span",{className:"text-sm text-[#9CA3AF]",children:e.language})}),a.jsx("td",{className:"px-4 py-4",children:a.jsx("span",{className:"text-sm text-[#9CA3AF]",children:e.category})}),a.jsx("td",{className:"px-4 py-4",children:a.jsx("span",{className:"text-sm text-[#9CA3AF]",children:e.year})}),a.jsx("td",{className:"px-4 py-4",children:a.jsx("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${r?"bg-[#22C55E]/10 text-[#22C55E]":"bg-[#6B7280]/10 text-[#6B7280]"}`,children:r?(0,a.jsxs)(a.Fragment,{children:[a.jsx(T.Z,{className:"w-3 h-3"}),"Yes"]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx($.Z,{className:"w-3 h-3"}),"No"]})})}),a.jsx("td",{className:"px-4 py-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[a.jsx("a",{href:`/${"movie"===e.type?"watch":"series/watch"}/${e._id||e.id}`,target:"_blank",rel:"noopener noreferrer",className:"p-2 rounded-lg hover:bg-[#1F232D] text-[#9CA3AF] hover:text-[#F5C542] transition-colors",title:"View",children:a.jsx(H.Z,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>s(e),className:"p-2 rounded-lg hover:bg-[#1F232D] text-[#9CA3AF] hover:text-[#F5C542] transition-colors",title:"Edit",children:a.jsx(R,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>d(e),className:`p-2 rounded-lg transition-colors ${o===l?"bg-red-500/20 text-red-500":"hover:bg-red-500/10 text-[#9CA3AF] hover:text-red-500"}`,title:o===l?"Confirm Delete":"Delete",children:a.jsx(S,{className:"w-4 h-4"})})]})})]},l)})})]})})})}/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let _=(0,i.Z)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);function z({content:e,isOpen:s,onClose:t,onSave:l,adminKey:i}){let[d,c]=(0,r.useState)(!1),[m,p]=(0,r.useState)(null),[h,C]=(0,r.useState)(null),[A,w]=(0,r.useState)([]),k=e=>{if(!h)return;let{name:s,value:t}=e.target;C(e=>e?{...e,[s]:"year"===s||"rating"===s?t?parseFloat(t):void 0:t}:null)},M=(e,s)=>{h&&C(t=>t?{...t,movieData:{...t.movieData,[e]:s||null}}:null)},Z=e=>{w(s=>s.includes(e)?s.filter(s=>s!==e):[...s,e])},q=e=>{h?.seasons&&(C(s=>s?{...s,seasons:s.seasons?.filter(s=>s.seasonNumber!==e)}:null),w(s=>s.filter(s=>s!==e)))},P=e=>{if(!h?.seasons)return;let s=h.seasons.find(s=>s.seasonNumber===e);if(!s)return;let t=s.episodes.length>0?Math.max(...s.episodes.map(e=>e.episodeNumber))+1:1,a={episodeNumber:t,episodeTitle:`Episode ${t}`,embedIframeLink:"",downloadLink:"",quality:"HD"};C(s=>s?{...s,seasons:s.seasons?.map(s=>s.seasonNumber===e?{...s,episodes:[...s.episodes,a]}:s)}:null)},I=(e,s)=>{h?.seasons&&C(t=>t?{...t,seasons:t.seasons?.map(t=>t.seasonNumber===e?{...t,episodes:t.episodes.filter(e=>e.episodeNumber!==s)}:t)}:null)},T=(e,s,t)=>{h?.seasons&&C(a=>a?{...a,seasons:a.seasons?.map(a=>a.seasonNumber===e?{...a,episodes:a.episodes.map(e=>e.episodeNumber===s?{...e,...t}:e)}:a)}:null)},H=async e=>{if(e.preventDefault(),h){c(!0),p(null);try{if("movie"===h.type){if(!h.movieData?.downloadLink)throw Error("Download link is required for movies")}else if("series"===h.type){if(!h.seasons||0===h.seasons.length)throw Error("At least one season is required");for(let e of h.seasons){if(0===e.episodes.length)throw Error(`Season ${e.seasonNumber} must have at least one episode`);for(let s of e.episodes)if(!s.downloadLink)throw Error(`Episode ${s.episodeNumber} in Season ${e.seasonNumber} is missing a download link`)}}let e=await fetch(`/api/content/${h._id||h.id}`,{method:"PUT",headers:{"Content-Type":"application/json","x-admin-key":i},body:JSON.stringify(h)}),s=await e.json();if(!s.success)throw Error(s.message||"Failed to update content");l(),t()}catch(e){p(e instanceof Error?e.message:"An error occurred")}finally{c(!1)}}};return s&&h?a.jsx(o.M,{children:(0,a.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[a.jsx(n.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,className:"absolute inset-0 bg-black/80 backdrop-blur-sm"}),(0,a.jsxs)(n.E.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"relative w-full max-w-4xl max-h-[90vh] overflow-y-auto rounded-2xl",style:{background:"linear-gradient(135deg, #0E1015 0%, #1a1d26 100%)",border:"1px solid #1F232D"},children:[(0,a.jsxs)("div",{className:"sticky top-0 z-10 flex items-center justify-between p-6 border-b border-[#1F232D] bg-[#0E1015]/95 backdrop-blur-xl",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${"movie"===h.type?"bg-[#F5C542]/10":"bg-[#8B5CF6]/10"}`,children:"movie"===h.type?a.jsx(x.Z,{className:"w-5 h-5 text-[#F5C542]"}):a.jsx(D.Z,{className:"w-5 h-5 text-[#8B5CF6]"})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h2",{className:"text-xl font-bold text-[#F9FAFB]",children:["Edit ","movie"===h.type?"Movie":"Series"]}),a.jsx("p",{className:"text-sm text-[#9CA3AF]",children:h.title})]})]}),a.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-[#1F232D] text-[#9CA3AF] hover:text-[#F9FAFB] transition-colors",children:a.jsx($.Z,{className:"w-5 h-5"})})]}),(0,a.jsxs)("form",{onSubmit:H,className:"p-6 space-y-6",children:[m&&a.jsx(n.E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"p-4 rounded-xl bg-red-500/10 border border-red-500/20 text-red-400",children:m}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"sm:col-span-2",children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-[#9CA3AF] mb-2",children:[a.jsx(b,{className:"w-4 h-4 inline mr-1"}),"Title *"]}),a.jsx("input",{type:"text",name:"title",value:h.title,onChange:k,required:!0,className:"w-full px-4 py-3 rounded-xl bg-[#050608] border border-[#1F232D] text-[#F9FAFB] focus:border-[#F5C542] focus:outline-none transition-colors"})]}),(0,a.jsxs)("div",{className:"sm:col-span-2",children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-[#9CA3AF] mb-2",children:[a.jsx(b,{className:"w-4 h-4 inline mr-1"}),"Description *"]}),a.jsx("textarea",{name:"description",value:h.description,onChange:k,required:!0,rows:4,className:"w-full px-4 py-3 rounded-xl bg-[#050608] border border-[#1F232D] text-[#F9FAFB] focus:border-[#F5C542] focus:outline-none transition-colors resize-none"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-[#9CA3AF] mb-2",children:[a.jsx(g,{className:"w-4 h-4 inline mr-1"}),"Poster URL *"]}),a.jsx("input",{type:"url",name:"poster",value:h.poster,onChange:k,required:!0,className:"w-full px-4 py-3 rounded-xl bg-[#050608] border border-[#1F232D] text-[#F9FAFB] focus:border-[#F5C542] focus:outline-none transition-colors"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-[#9CA3AF] mb-2",children:[a.jsx(g,{className:"w-4 h-4 inline mr-1"}),"Backdrop URL"]}),a.jsx("input",{type:"url",name:"backdrop",value:h.backdrop||"",onChange:k,className:"w-full px-4 py-3 rounded-xl bg-[#050608] border border-[#1F232D] text-[#F9FAFB] focus:border-[#F5C542] focus:outline-none transition-colors"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-[#9CA3AF] mb-2",children:[a.jsx(f.Z,{className:"w-4 h-4 inline mr-1"}),"Language *"]}),a.jsx("input",{type:"text",name:"language",value:h.language,onChange:k,required:!0,className:"w-full px-4 py-3 rounded-xl bg-[#050608] border border-[#1F232D] text-[#F9FAFB] focus:border-[#F5C542] focus:outline-none transition-colors"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-[#9CA3AF] mb-2",children:[a.jsx(y.Z,{className:"w-4 h-4 inline mr-1"}),"Category *"]}),a.jsx("input",{type:"text",name:"category",value:h.category,onChange:k,required:!0,className:"w-full px-4 py-3 rounded-xl bg-[#050608] border border-[#1F232D] text-[#F9FAFB] focus:border-[#F5C542] focus:outline-none transition-colors"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-[#9CA3AF] mb-2",children:[a.jsx(F.Z,{className:"w-4 h-4 inline mr-1"}),"Year *"]}),a.jsx("input",{type:"number",name:"year",value:h.year,onChange:k,required:!0,min:1900,max:2100,className:"w-full px-4 py-3 rounded-xl bg-[#050608] border border-[#1F232D] text-[#F9FAFB] focus:border-[#F5C542] focus:outline-none transition-colors"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-[#9CA3AF] mb-2",children:[a.jsx(j.Z,{className:"w-4 h-4 inline mr-1"}),"Rating"]}),a.jsx("input",{type:"number",name:"rating",value:h.rating||"",onChange:k,min:0,max:10,step:.1,className:"w-full px-4 py-3 rounded-xl bg-[#050608] border border-[#1F232D] text-[#F9FAFB] focus:border-[#F5C542] focus:outline-none transition-colors"})]})]}),"movie"===h.type&&(0,a.jsxs)("div",{className:"p-6 rounded-xl space-y-6",style:{background:"rgba(245, 197, 66, 0.05)",border:"1px solid rgba(245, 197, 66, 0.2)"},children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-[#F5C542] flex items-center gap-2",children:[a.jsx(N,{className:"w-5 h-5"}),"Streaming Links"]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-6",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-[#9CA3AF] mb-2",children:"Embed Iframe Link"}),a.jsx("input",{type:"url",value:h.movieData?.embedIframeLink||"",onChange:e=>M("embedIframeLink",e.target.value),className:"w-full px-4 py-3 rounded-xl bg-[#050608] border border-[#1F232D] text-[#F9FAFB] focus:border-[#F5C542] focus:outline-none transition-colors",placeholder:"https://example.com/embed/..."}),a.jsx("p",{className:"mt-1 text-xs text-[#9CA3AF]",children:"Paste embed player URL (iframe src link)"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-[#9CA3AF] mb-2",children:[a.jsx(v.Z,{className:"w-4 h-4 inline mr-1"}),"Download Link *"]}),a.jsx("input",{type:"url",value:h.movieData?.downloadLink||"",onChange:e=>M("downloadLink",e.target.value),required:!0,className:"w-full px-4 py-3 rounded-xl bg-[#050608] border border-[#1F232D] text-[#F9FAFB] focus:border-[#F5C542] focus:outline-none transition-colors",placeholder:"https://example.com/download/..."})]})]})]}),"series"===h.type&&h.seasons&&(0,a.jsxs)("div",{className:"p-6 rounded-xl",style:{background:"rgba(139, 92, 246, 0.05)",border:"1px solid rgba(139, 92, 246, 0.2)"},children:[a.jsx("h3",{className:"text-lg font-semibold text-[#8B5CF6] mb-4",children:"Seasons & Episodes"}),(0,a.jsxs)("div",{className:"space-y-4",children:[h.seasons.map(e=>(0,a.jsxs)("div",{className:"rounded-xl overflow-hidden",style:{background:"#050608",border:"1px solid #1F232D"},children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 cursor-pointer hover:bg-[#1F232D]/30 transition-colors",onClick:()=>Z(e.seasonNumber),children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 rounded-lg bg-[#F5C542]/10 flex items-center justify-center",children:(0,a.jsxs)("span",{className:"text-sm font-bold text-[#F5C542]",children:["S",e.seasonNumber]})}),(0,a.jsxs)("span",{className:"font-medium text-[#F9FAFB]",children:["Season ",e.seasonNumber]}),(0,a.jsxs)("span",{className:"text-sm text-[#9CA3AF]",children:["(",e.episodes.length," episode",1!==e.episodes.length?"s":"",")"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("button",{type:"button",onClick:s=>{s.stopPropagation(),q(e.seasonNumber)},className:"p-2 rounded-lg hover:bg-red-500/10 text-[#9CA3AF] hover:text-red-400 transition-colors",children:a.jsx(S,{className:"w-4 h-4"})}),A.includes(e.seasonNumber)?a.jsx(B,{className:"w-5 h-5 text-[#9CA3AF]"}):a.jsx(E.Z,{className:"w-5 h-5 text-[#9CA3AF]"})]})]}),A.includes(e.seasonNumber)&&(0,a.jsxs)("div",{className:"p-4 pt-0 space-y-3",children:[e.episodes.map(s=>(0,a.jsxs)("div",{className:"p-4 rounded-xl bg-[#0E1015] border border-[#1F232D] space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-6 h-6 rounded bg-[#8B5CF6]/10 flex items-center justify-center",children:a.jsx(L.Z,{className:"w-3 h-3 text-[#8B5CF6]"})}),(0,a.jsxs)("span",{className:"text-sm font-medium text-[#F9FAFB]",children:["Episode ",s.episodeNumber]})]}),a.jsx("button",{type:"button",onClick:()=>I(e.seasonNumber,s.episodeNumber),className:"p-1.5 rounded hover:bg-red-500/10 text-[#9CA3AF] hover:text-red-400 transition-colors",children:a.jsx(S,{className:"w-4 h-4"})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-[#9CA3AF] mb-1",children:"Episode Title *"}),a.jsx("input",{type:"text",value:s.episodeTitle,onChange:t=>T(e.seasonNumber,s.episodeNumber,{episodeTitle:t.target.value}),className:"w-full px-3 py-2 rounded-lg bg-[#050608] border border-[#1F232D] text-[#F9FAFB] text-sm focus:border-[#F5C542] focus:outline-none transition-colors"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-[#9CA3AF] mb-1",children:"Quality"}),(0,a.jsxs)("select",{value:s.quality,onChange:t=>T(e.seasonNumber,s.episodeNumber,{quality:t.target.value}),className:"w-full px-3 py-2 rounded-lg bg-[#050608] border border-[#1F232D] text-[#F9FAFB] text-sm focus:border-[#F5C542] focus:outline-none transition-colors",children:[a.jsx("option",{value:"SD",children:"SD"}),a.jsx("option",{value:"HD",children:"HD"}),a.jsx("option",{value:"FHD",children:"FHD"}),a.jsx("option",{value:"4K",children:"4K"})]})]}),(0,a.jsxs)("div",{className:"sm:col-span-2",children:[(0,a.jsxs)("label",{className:"block text-xs font-medium text-[#9CA3AF] mb-1",children:[a.jsx(N,{className:"w-3 h-3 inline mr-1"}),"Embed Iframe Link"]}),a.jsx("input",{type:"url",value:s.embedIframeLink||"",onChange:t=>T(e.seasonNumber,s.episodeNumber,{embedIframeLink:t.target.value}),className:"w-full px-3 py-2 rounded-lg bg-[#050608] border border-[#1F232D] text-[#F9FAFB] text-sm focus:border-[#F5C542] focus:outline-none transition-colors",placeholder:"https://example.com/embed/..."}),a.jsx("p",{className:"mt-1 text-xs text-[#9CA3AF]",children:"Paste embed player URL (iframe src link)"})]}),(0,a.jsxs)("div",{className:"sm:col-span-2",children:[(0,a.jsxs)("label",{className:"block text-xs font-medium text-[#9CA3AF] mb-1",children:[a.jsx(v.Z,{className:"w-3 h-3 inline mr-1"}),"Download Link *"]}),a.jsx("input",{type:"url",value:s.downloadLink,onChange:t=>T(e.seasonNumber,s.episodeNumber,{downloadLink:t.target.value}),required:!0,className:"w-full px-3 py-2 rounded-lg bg-[#050608] border border-[#1F232D] text-[#F9FAFB] text-sm focus:border-[#F5C542] focus:outline-none transition-colors",placeholder:"https://example.com/download/..."})]})]})]},s.episodeNumber)),(0,a.jsxs)("button",{type:"button",onClick:()=>P(e.seasonNumber),className:"w-full py-3 rounded-xl border border-dashed border-[#1F232D] text-[#9CA3AF] hover:text-[#F5C542] hover:border-[#F5C542]/50 transition-colors flex items-center justify-center gap-2",children:[a.jsx(u,{className:"w-4 h-4"}),"Add Episode"]})]})]},e.seasonNumber)),(0,a.jsxs)("button",{type:"button",onClick:()=>{if(!h?.seasons)return;let e=h.seasons.length>0?Math.max(...h.seasons.map(e=>e.seasonNumber))+1:1,s={seasonNumber:e,episodes:[]};C(e=>e?{...e,seasons:[...e.seasons||[],s]}:null),w(s=>[...s,e])},className:"w-full py-4 rounded-xl bg-[#F5C542]/10 border border-[#F5C542]/30 text-[#F5C542] hover:bg-[#F5C542]/20 transition-colors flex items-center justify-center gap-2",children:[a.jsx(u,{className:"w-5 h-5"}),"Add Season"]})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-end gap-4 pt-4 border-t border-[#1F232D]",children:[a.jsx("button",{type:"button",onClick:t,className:"px-6 py-3 rounded-xl border border-[#1F232D] text-[#9CA3AF] hover:text-[#F9FAFB] hover:border-[#9CA3AF] transition-colors",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:d,className:"px-6 py-3 rounded-xl bg-[#F5C542] text-[#050608] font-semibold flex items-center gap-2 hover:bg-[#F5C542]/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:d?(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"w-4 h-4 border-2 border-[#050608] border-t-transparent rounded-full animate-spin"}),"Saving..."]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx(_,{className:"w-4 h-4"}),"Save Changes"]})})]})]})]})]})}):null}function Y(){let[e,s]=(0,r.useState)("content"),[t,i]=(0,r.useState)(""),[p,h]=(0,r.useState)(!1),[b,g]=(0,r.useState)([]),[f,y]=(0,r.useState)(!1),[F,j]=(0,r.useState)(null),[N,v]=(0,r.useState)(!1),[C,A]=(0,r.useState)(!1),w=async()=>{y(!0);try{let e=await fetch("/api/content"),s=await e.json();s.success&&g(s.data)}catch(e){console.error("Error fetching content:",e)}finally{y(!1)}},D=async e=>{if(confirm(`Are you sure you want to delete "${e.title}"? This action cannot be undone.`))try{let s=await fetch(`/api/content/${e._id||e.id}`,{method:"DELETE",headers:{"x-admin-key":t}}),a=await s.json();if(a.success){alert("Content deleted successfully!");let s=e._id||e.id;g(e=>e.filter(e=>(e._id||e.id)!==s)),setTimeout(()=>w(),500)}else alert(a.message||"Failed to delete content")}catch(e){console.error("Error deleting content:",e),alert("Network error. Please check your connection and try again.")}};return C?p?(0,a.jsxs)("div",{className:"min-h-screen bg-[#050608]",children:[a.jsx("header",{className:"sticky top-0 z-50 bg-[#050608]/80 backdrop-blur-xl border-b border-[#1F232D]",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)(l.default,{href:"/",className:"flex items-center gap-2 text-[#9CA3AF] hover:text-[#F9FAFB] transition-colors",children:[a.jsx(c.Z,{className:"w-5 h-5"}),a.jsx("span",{className:"hidden sm:inline",children:"Back"})]}),a.jsx("div",{className:"h-6 w-px bg-[#1F232D]"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(d,{className:"w-5 h-5 text-[#F5C542]"}),a.jsx("span",{className:"font-bold text-[#F9FAFB]",children:"Admin Dashboard"})]})]}),(0,a.jsxs)("button",{onClick:()=>{localStorage.removeItem("adminKey"),i(""),h(!1)},className:"flex items-center gap-2 px-4 py-2 rounded-lg hover:bg-red-500/10 text-[#9CA3AF] hover:text-red-400 transition-colors",children:[a.jsx(m,{className:"w-4 h-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Logout"})]})]})})}),(0,a.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,a.jsxs)("div",{className:"flex flex-wrap gap-2 mb-8",children:[(0,a.jsxs)("button",{onClick:()=>s("content"),className:`flex items-center gap-2 px-6 py-3 rounded-xl font-medium transition-all ${"content"===e?"bg-[#F5C542] text-[#050608]":"bg-[#0E1015] text-[#9CA3AF] hover:text-[#F9FAFB] border border-[#1F232D]"}`,children:[a.jsx(x.Z,{className:"w-4 h-4"}),"All Content"]}),(0,a.jsxs)("button",{onClick:()=>s("movies"),className:`flex items-center gap-2 px-6 py-3 rounded-xl font-medium transition-all ${"movies"===e?"bg-[#F5C542] text-[#050608]":"bg-[#0E1015] text-[#9CA3AF] hover:text-[#F9FAFB] border border-[#1F232D]"}`,children:[a.jsx(u,{className:"w-4 h-4"}),"Add Movie"]}),(0,a.jsxs)("button",{onClick:()=>s("series"),className:`flex items-center gap-2 px-6 py-3 rounded-xl font-medium transition-all ${"series"===e?"bg-[#8B5CF6] text-white":"bg-[#0E1015] text-[#9CA3AF] hover:text-[#F9FAFB] border border-[#1F232D]"}`,children:[a.jsx(u,{className:"w-4 h-4"}),"Add Series"]})]}),(0,a.jsxs)(o.M,{mode:"wait",children:["content"===e&&(0,a.jsxs)(n.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-xl font-bold text-[#F9FAFB]",children:"Manage Content"}),(0,a.jsxs)("span",{className:"text-sm text-[#9CA3AF]",children:[b.length," item",1!==b.length?"s":""]})]}),a.jsx(U,{content:b,onEdit:e=>{j(e),v(!0)},onDelete:D,loading:f})]},"content"),"movies"===e&&a.jsx(n.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:a.jsx(k,{adminKey:t,onSuccess:()=>{w(),s("content")}})},"movies"),"series"===e&&a.jsx(n.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:a.jsx(P,{adminKey:t,onSuccess:()=>{w(),s("content")}})},"series")]})]}),a.jsx(z,{content:F,isOpen:N,onClose:()=>{v(!1),j(null)},onSave:()=>{w(),v(!1),j(null)},adminKey:t})]}):a.jsx("div",{className:"min-h-screen bg-[#050608] flex items-center justify-center px-4",children:(0,a.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"w-16 h-16 rounded-2xl bg-[#F5C542]/10 flex items-center justify-center mx-auto mb-4",children:a.jsx(d,{className:"w-8 h-8 text-[#F5C542]"})}),a.jsx("h1",{className:"text-2xl font-bold text-[#F9FAFB]",children:"Admin Login"}),a.jsx("p",{className:"text-[#9CA3AF] mt-2",children:"Enter your admin key to access the dashboard"})]}),(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),t.trim()&&(localStorage.setItem("adminKey",t),h(!0))},className:"rounded-2xl p-6",style:{background:"linear-gradient(135deg, #0E1015 0%, #1a1d26 100%)",border:"1px solid #1F232D"},children:[(0,a.jsxs)("div",{className:"mb-6",children:[a.jsx("label",{className:"block text-sm font-medium text-[#9CA3AF] mb-2",children:"Admin Key"}),a.jsx("input",{type:"password",value:t,onChange:e=>i(e.target.value),placeholder:"Enter admin key",className:"w-full px-4 py-3 rounded-xl bg-[#050608] border border-[#1F232D] text-[#F9FAFB] placeholder-[#9CA3AF]/50 focus:border-[#F5C542] focus:outline-none transition-colors"})]}),a.jsx("button",{type:"submit",className:"w-full py-3 px-4 bg-[#F5C542] text-[#050608] rounded-xl font-semibold hover:bg-[#F5C542]/90 transition-colors",children:"Login"})]}),a.jsx("div",{className:"mt-6 text-center",children:(0,a.jsxs)(l.default,{href:"/",className:"text-[#9CA3AF] hover:text-[#F9FAFB] transition-colors flex items-center justify-center gap-2",children:[a.jsx(c.Z,{className:"w-4 h-4"}),"Back to Home"]})})]})}):a.jsx("div",{className:"min-h-screen bg-[#050608]"})}},3885:(e,s,t)=>{"use strict";function a(){return null}t.d(s,{default:()=>a}),t(7577)},4753:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>n,__esModule:()=>l,default:()=>o});var a=t(8570);let r=(0,a.createProxy)(String.raw`D:\downloads\Iframe Player Update\my-app\src\app\admin\page.tsx`),{__esModule:l,$$typeof:n}=r;r.default;let o=(0,a.createProxy)(String.raw`D:\downloads\Iframe Player Update\my-app\src\app\admin\page.tsx#default`)},3008:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>m,metadata:()=>d,viewport:()=>c});var a=t(9510);t(5023);var r=t(8570);let l=(0,r.createProxy)(String.raw`D:\downloads\Iframe Player Update\my-app\src\components\AdOnClick.tsx`),{__esModule:n,$$typeof:o}=l;l.default;let i=(0,r.createProxy)(String.raw`D:\downloads\Iframe Player Update\my-app\src\components\AdOnClick.tsx#default`),d={title:"CineStream - Watch Movies & Series Online",description:"Stream your favorite movies and series online with CineStream. High-quality content with embed player support.",keywords:["movies","series","streaming","online","watch","cinema","cineprime11","cineprime11.netlify.app"],authors:[{name:"CineStream"}],manifest:"/manifest.json",metadataBase:new URL("https://cineprime11.netlify.app"),openGraph:{title:"CineStream - Watch Movies & Series Online",description:"Stream your favorite movies and series online with CineStream.",url:"https://cineprime11.netlify.app",siteName:"CineStream",type:"website"},icons:{icon:"/icon.svg",apple:"/icon.svg"}},c={themeColor:"#F5C542",width:"device-width",initialScale:1,maximumScale:1};function m({children:e}){return a.jsx("html",{lang:"en",suppressHydrationWarning:!0,children:(0,a.jsxs)("body",{className:"antialiased",suppressHydrationWarning:!0,children:[a.jsx(i,{}),e]})})}},5023:()=>{},8129:(e,s,t)=>{"use strict";t.d(s,{M:()=>g});var a=t(326),r=t(7577),l=t(339),n=t(7977),o=t(295),i=t(3965);class d extends r.Component{getSnapshotBeforeUpdate(e){let s=this.props.childRef.current;if(s&&e.isPresent&&!this.props.isPresent){let e=this.props.sizeRef.current;e.height=s.offsetHeight||0,e.width=s.offsetWidth||0,e.top=s.offsetTop,e.left=s.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function c({children:e,isPresent:s}){let t=(0,r.useId)(),l=(0,r.useRef)(null),n=(0,r.useRef)({width:0,height:0,top:0,left:0}),{nonce:o}=(0,r.useContext)(i._);return(0,r.useInsertionEffect)(()=>{let{width:e,height:a,top:r,left:i}=n.current;if(s||!l.current||!e||!a)return;l.current.dataset.motionPopId=t;let d=document.createElement("style");return o&&(d.nonce=o),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${t}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${a}px !important;
            top: ${r}px !important;
            left: ${i}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[s]),(0,a.jsx)(d,{isPresent:s,childRef:l,sizeRef:n,children:r.cloneElement(e,{ref:l})})}let m=({children:e,initial:s,isPresent:t,onExitComplete:l,custom:i,presenceAffectsLayout:d,mode:m})=>{let u=(0,n.h)(x),p=(0,r.useId)(),h=(0,r.useCallback)(e=>{for(let s of(u.set(e,!0),u.values()))if(!s)return;l&&l()},[u,l]),b=(0,r.useMemo)(()=>({id:p,initial:s,isPresent:t,custom:i,onExitComplete:h,register:e=>(u.set(e,!1),()=>u.delete(e))}),d?[Math.random(),h]:[t,h]);return(0,r.useMemo)(()=>{u.forEach((e,s)=>u.set(s,!1))},[t]),r.useEffect(()=>{t||u.size||!l||l()},[t]),"popLayout"===m&&(e=(0,a.jsx)(c,{isPresent:t,children:e})),(0,a.jsx)(o.O.Provider,{value:b,children:e})};function x(){return new Map}var u=t(6933);let p=e=>e.key||"";function h(e){let s=[];return r.Children.forEach(e,e=>{(0,r.isValidElement)(e)&&s.push(e)}),s}var b=t(2482);let g=({children:e,custom:s,initial:t=!0,onExitComplete:o,presenceAffectsLayout:i=!0,mode:d="sync",propagate:c=!1})=>{let[x,g]=(0,u.oO)(c),f=(0,r.useMemo)(()=>h(e),[e]),y=c&&!x?[]:f.map(p),F=(0,r.useRef)(!0),j=(0,r.useRef)(f),N=(0,n.h)(()=>new Map),[v,C]=(0,r.useState)(f),[A,w]=(0,r.useState)(f);(0,b.L)(()=>{F.current=!1,j.current=f;for(let e=0;e<A.length;e++){let s=p(A[e]);y.includes(s)?N.delete(s):!0!==N.get(s)&&N.set(s,!1)}},[A,y.length,y.join("-")]);let k=[];if(f!==v){let e=[...f];for(let s=0;s<A.length;s++){let t=A[s],a=p(t);y.includes(a)||(e.splice(s,0,t),k.push(t))}"wait"===d&&k.length&&(e=k),w(h(e)),C(f);return}let{forceRender:D}=(0,r.useContext)(l.p);return(0,a.jsx)(a.Fragment,{children:A.map(e=>{let r=p(e),l=(!c||!!x)&&(f===A||y.includes(r));return(0,a.jsx)(m,{isPresent:l,initial:(!F.current||!!t)&&void 0,custom:l?void 0:s,presenceAffectsLayout:i,mode:d,onExitComplete:l?void 0:()=>{if(!N.has(r))return;N.set(r,!0);let e=!0;N.forEach(s=>{s||(e=!1)}),e&&(null==D||D(),w(j.current),c&&(null==g||g()),o&&o())},children:e},r)})})}}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[948,471,404,569],()=>t(7493));module.exports=a})();